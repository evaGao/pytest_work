{"name": "加购物车", "status": "broken", "statusDetails": {"message": "TypeError: 'NoneType' object is not subscriptable", "trace": "self = <testcases.usercenter.test_user.TestUser object at 0x10a97b950>\nusername = 15000000002, password = 123456\n\n    @allure.story(\"购物车相关\")\n    @allure.title(\"加购物车\")\n    @pytest.mark.parametrize(\"username,password\", get_data()['user_login'])\n    def test_shopping_cart(self, username, password):\n        # 登录接口\n        result = login(username, password)\n        token = result.body['token']\n        param = get_data()['shopping_cart']\n        result = add_shopping_cart(param, token)\n        # 查询购物车数量\n>       num = get_shop_cart_num(username, param['goods'])\n\ntest_user.py:48: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nconftest.py:33: in get_shop_cart_num\n    id = user_id(username)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmobile = 15000000002\n\n    def user_id(mobile):\n        sql = \"select id from users_userprofile where mobile = '%s';\" % mobile\n        result = db.execute_db(sql)\n        logger.info(f'sql执行结果：{result}')\n>       return result['id']\nE       TypeError: 'NoneType' object is not subscriptable\n\nconftest.py:43: TypeError"}, "attachments": [{"name": "log", "source": "b30cf1cc-6a1c-43d1-99a8-3b1a62745abf-attachment.txt", "type": "text/plain"}, {"name": "stdout", "source": "4dae5f08-0d23-4f9c-8393-ba3e9611868e-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "63d4f71b-3a3c-449a-bc44-602f88e4b784-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "username", "value": "15000000002"}, {"name": "password", "value": "123456"}], "start": 1657966757807, "stop": 1657966758168, "uuid": "114d5aa5-3bf8-4aa4-908d-581ca3a8cbfb", "historyId": "5e31181cf5223ecd6b2251dbdce89c23", "testCaseId": "6732b5a4ef5cebf11d6a36876a07be7c", "fullName": "testcases.usercenter.test_user.TestUser#test_shopping_cart", "labels": [{"name": "story", "value": "购物车相关"}, {"name": "feature", "value": "用户中心模块"}, {"name": "parentSuite", "value": "testcases.usercenter"}, {"name": "suite", "value": "test_user"}, {"name": "subSuite", "value": "TestUser"}, {"name": "host", "value": "wushuaiuaideMBP.lan"}, {"name": "thread", "value": "30556-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.usercenter.test_user"}]}